<!doctype html>

<html>
  <head>
    <link rel="stylesheet" href="lib/style.css">
    <script src="lib/script.js"></script>
  </head>

  <body>
    <h1>Hello Plunker!</h1>    

    <script>

      var mass = ["+", "-", "/", "*"];

      /*
      function poisk(parseStroka) 
       {
            for (let i=2; i <= 3; i++) {
              pos = parseStroka.indexOf(mass[i]);
              if (pos != -1)
              {var a = i; break};
            }

            if (pos!==-1) 
              {
                var sl_1 = parseStroka.slice(0,pos);
                var sl_2 = parseStroka.slice(++pos);
        
                poisk(sl_1);
                poisk(sl_2); 
                } else {
                  alert("POISK " + parseStroka);
                  }
            
      }   
      */

      function poisk1(parseStroka) 
        {

          for (let i=0; i <= 1; i++) 
          {
            pos = parseStroka.indexOf(mass[i]);  
            if (pos != -1)
            {var a = i; break};
          }

          if (pos!==-1) 
          {

             var sl_1 = parseStroka.slice(0,pos);      
             var sl_2 = parseStroka.slice(++pos);
             var znach = poisk1(sl_1);
             var znach1 = poisk1(sl_2); 

             if (a == 0) 
                {
                    return  znach + znach1;
                }  else {
                    return znach - znach1;
                }

               
                       //alert("rem "+ sl_2);

          } else {
              return Number(parseStroka);
          }
        }        
          
      function getValue()
      {
          var text = document.getElementById("input_form").value;
          alert(poisk1(text));
      }
      
    </script>
        
        <form>
          <input type="text" id="input_form" value=""  />
          <input type="submit" onclick="getValue()" />
        </form>
      

  </body>
</html>
